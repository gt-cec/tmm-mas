<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SWARM</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pixi.js@7/dist/pixi.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>
  <script type="module" src="{{ url_for('static', filename='js/newMain.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='js/newPixiApp.js') }}"></script>
  <script type="module" src="{{ url_for('static', filename='js/newSocket.js') }}"></script>
</head>
<body class="w-screen h-screen overflow-hidden font-sans">
  <nav class="w-full h-[8vh] absolute top-0 left-0 bg-black flex justify-between items-center px-28">
    <h1 class="text-white text-2xl font-semibold">SWARM</h1>
    <div class="flex space-x-6">
      <a id="simToggleText" class="text-white">Simulator View</a>
      <label class="cursor-pointer">
        <input id="toggleScreenButton" type="checkbox" value="" class="sr-only peer">
        <div class="w-11 h-6 relative bg-gray-700 rounded-full peer-checked:after:translate-x-full after:content-[''] after:w-5 after:h-5 after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:transition-all"></div>
      </label>
      <a id="textToggleText" class="text-gray-400">Textual Overview</a>
    </div>
    <button id="playStopButton" class="w-24 h-10 bg-transparent text-white border border-white rounded-lg cursor-pointer">Play</button>
  </nav>

  <div class="w-full h-full px-28 pt-[8vh]">
    <div id="simulatorView" class="w-full h-full flex justify-between items-center">
      <div id="pixiApp"></div>
      <div id="infoPanel" class="w-1/4 h-[500px] flex flex-col space-y-6">
        <h1 class="text-2xl font-bold">Robot Updates</h1>
        <div id="robotStatus" class="space-y-6"></div>
        <hr class="h-1 bg-gray-300 border-0">
        <div id="robotAlerts" class="space-y-6"></div>
      </div>
    </div>
    <div id="textualView" class="w-full h-full flex items-center hidden">
      <div class="flex justify-center items-start gap-6 w-full py-8">
        <!-- Robot A (Expanded by default) -->
        <div class="w-[350px] border border-black rounded-lg shadow-md">
          <div class="flex items-center justify-between p-4">
            <h2 class="text-lg font-semibold">Robot A Status</h2>
            <div class="flex items-center gap-2">
              <button class="text-2xl text-gray-500 hover:text-black" onclick="togglePanel('robotA')">⤢</button>
            </div>
          </div>
          <div id="robotA" class="p-4 space-y-6">
            <div class="border-l-4 border-red-400 bg-red-100 p-3 rounded">
              <p class="text-sm font-semibold">13:24 – Status: <span class="font-bold">Replanning</span> 🔁</p>
              <p class="text-sm mt-1">Robot is in replanning mode, with an 85% probability of returning to the original path.</p>
            </div>
            <div class="border-l-4 border-blue-400 bg-blue-100 p-3 rounded">
              <p class="text-sm font-semibold">13:14 – Status: <span class="font-bold">Delayed</span> 🕒</p>
              <p class="text-sm mt-1">Adjustments detected, robot is likely encountering obstacles.</p>
            </div>
            <div class="border-l-4 border-green-400 bg-green-100 p-3 rounded">
              <p class="text-sm font-semibold">13:00 – Status: <span class="font-bold">On Track</span> ✅</p>
              <p class="text-sm mt-1">Robot is currently in a stable navigation state.</p>
            </div>
          </div>
        </div>

        <!-- Robot B -->
        <div class="w-[350px] border border-black rounded-lg shadow-md">
          <div class="flex items-center justify-between p-4">
            <h2 class="text-lg font-semibold">Robot B Status</h2>
            <button class="text-2xl text-gray-500 hover:text-black" onclick="togglePanel('robotB')">⤢</button>
          </div>
          <div id="robotB" class="p-4 space-y-3">
            <span class="text-sm inline-block bg-green-600 text-white px-3 py-1 rounded-full">On Track</span>
            <div class="flex items-center justify-between text-gray-700 text-xl mt-2">
              <span>📦</span>
              <div class="flex-1 h-1 bg-gray-300 mx-2 rounded">
                <div class="h-1 bg-green-500 w-1/3 rounded"></div>
              </div>
              <span>🏁</span>
            </div>
          </div>
        </div>

        <!-- Robot C -->
        <div class="w-[350px] border border-black rounded-lg shadow-md">
          <div class="flex items-center justify-between p-4">
            <h2 class="text-lg font-semibold">Robot C Status</h2>
            <button class="text-2xl text-gray-500 hover:text-black" onclick="togglePanel('robotC')">⤢</button>
          </div>
          <div id="robotC" class="p-4 space-y-3">
            <span class="text-sm inline-block bg-green-600 text-white px-3 py-1 rounded-full">On Track</span>
            <div class="flex items-center justify-between text-gray-700 text-xl mt-2">
              <span>📦</span>
              <div class="flex-1 h-1 bg-gray-300 mx-2 rounded">
                <div class="h-1 bg-green-500 w-1/2 rounded"></div>
              </div>
              <span>🏁</span>
            </div>
          </div>
        </div>
      </div>
  </div>
</body>
</html>